### ä¸€ã€ä¸ºä»€ä¹ˆè¦å­¦â€œæ‹·è´â€ï¼Ÿ

å½“ç±»ä¸­ **åªåŒ…å«æ™®é€šå€¼ç±»å‹æˆå‘˜**ï¼ˆint / double ç­‰ï¼‰æ—¶ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„æ‹·è´è¡Œä¸ºé€šå¸¸æ²¡é—®é¢˜ã€‚

ä½†å½“ç±»ä¸­ **åŒ…å«èµ„æº** æ—¶ï¼ˆå¦‚ï¼š

* `new` å‡ºæ¥çš„å†…å­˜
* æ–‡ä»¶å¥æŸ„
* ç½‘ç»œè¿æ¥
* mutex / socket

ğŸ‘‰ **é»˜è®¤æ‹·è´ = ç¾éš¾**ã€‚

---

### äºŒã€æ‹·è´æ„é€ å‡½æ•°ï¼ˆCopy Constructorï¼‰

#### 1ï¸âƒ£ å®šä¹‰

```cpp
class A {
public:
    A(const A& other);
};
```

**ä½œç”¨ï¼š**

> ç”¨â€œå·²æœ‰å¯¹è±¡â€åˆå§‹åŒ–â€œæ–°å¯¹è±¡â€

---

#### 2ï¸âƒ£ è§¦å‘æ—¶æœºï¼ˆé¢è¯•å¿…èƒŒï¼‰

* `A b = a;`
* å‡½æ•° **æŒ‰å€¼ä¼ å‚**
* å‡½æ•° **æŒ‰å€¼è¿”å›å¯¹è±¡**

---

### ä¸‰ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼ˆoperator=ï¼‰

#### 1ï¸âƒ£ å®šä¹‰

```cpp
class A {
public:
    A& operator=(const A& other);
};
```

**ä½œç”¨ï¼š**

> æŠŠâ€œå·²æœ‰å¯¹è±¡â€çš„å€¼ï¼Œèµ‹ç»™â€œå·²å­˜åœ¨å¯¹è±¡â€

---

#### 2ï¸âƒ£ æ‹·è´æ„é€  vs æ‹·è´èµ‹å€¼ï¼ˆæ ¸å¿ƒåŒºåˆ«ï¼‰

| å¯¹æ¯”é¡¹       | æ‹·è´æ„é€  | æ‹·è´èµ‹å€¼ |
| --------- | ---- | ---- |
| æ˜¯å¦æ–°å¯¹è±¡     | æ˜¯    | å¦    |
| æ˜¯å¦å·²æœ‰èµ„æº    | å¦    | æ˜¯    |
| æ˜¯å¦éœ€è¦æ¸…ç†æ—§èµ„æº | å¦    | âœ… æ˜¯  |

---

### å››ã€æµ…æ‹·è´ï¼ˆShallow Copyï¼‰

#### âŒ ä»€ä¹ˆæ˜¯æµ…æ‹·è´ï¼Ÿ

> åªæ‹·è´â€œæŒ‡é’ˆå€¼â€ï¼Œä¸æ‹·è´æŒ‡é’ˆæŒ‡å‘çš„èµ„æº

```cpp
class A {
public:
    int* p;
    A(int x) {
        p = new int(x);
    }
};
```

**é—®é¢˜ï¼š**

* ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€å—å†…å­˜
* ææ„æ—¶ `delete` ä¸¤æ¬¡ â†’ âŒ ç¨‹åºå´©æºƒ

---

### äº”ã€æ·±æ‹·è´ï¼ˆDeep Copyï¼‰

#### âœ… ä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿ

> æ¯ä¸ªå¯¹è±¡ **æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„èµ„æº**

```cpp
class A {
public:
    int* p;

    A(int x) {
        p = new int(x);
    }

    A(const A& other) {
        p = new int(*other.p);
    }
};
```

---

### å…­ã€è‡ªå®šä¹‰æ‹·è´ï¼ˆRule of Threeï¼‰

å½“ç±»ä¸­ **ç®¡ç†èµ„æº** æ—¶ï¼Œé€šå¸¸éœ€è¦ï¼š

1. ææ„å‡½æ•°
2. æ‹·è´æ„é€ å‡½æ•°
3. æ‹·è´èµ‹å€¼è¿ç®—ç¬¦

ğŸ‘‰ ç§°ä¸º **Rule of Threeï¼ˆä¸‰æ³•åˆ™ï¼‰**

---
