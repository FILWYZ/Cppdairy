本文件通过**对比示例**，强化 STL 使用准则的工程落地方式。

---

## 示例 1：错误的容器选择

```cpp
// ❌ 为了频繁插入而使用 list
list<int> data;
for (int i = 0; i < n; ++i) {
    data.push_back(i);
}
```

### 问题

* 无随机访问
* 遍历慢
* cache 不友好

### 正确写法

```cpp
vector<int> data;
data.reserve(n);
for (int i = 0; i < n; ++i) {
    data.push_back(i);
}
```

---

## 示例 2：错误使用算法 find

```cpp
// ❌ 对 map 使用 std::find
auto it = std::find(m.begin(), m.end(), key);
```

### 正确写法

```cpp
auto it = m.find(key);
```

---

## 示例 3：忽视迭代器失效

```cpp
vector<int> v;
auto it = v.begin();
v.push_back(1); // 扩容风险
*it = 10;       // UB
```

### 正确习惯

* 修改容器结构后
* 重新获取迭代器

---

## 示例 4：unordered_map 的正确使用

```cpp
unordered_map<int,int> um;
um.reserve(100000);
```

### 好处

* 减少 rehash
* 保证性能稳定

---

## 示例 5：算法表达优于循环

```cpp
transform(v.begin(), v.end(), v.begin(), [](int x){
    return x * 2;
});
```

> 表达的是“整体变换”，而不是“逐个处理”。

---

## 工程实践总结

* STL 用法错误，往往不是语法错误，而是设计错误
