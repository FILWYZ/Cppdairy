通过 **工程级示例** 理解 lambda 的真实使用方式。

---

## 示例 1：STL 算法中使用 lambda

```cpp
vector<int> v = {1, 3, 2};
sort(v.begin(), v.end(), [](int a, int b) {
    return a < b;
});
```

---

## 示例 2：值捕获 vs 引用捕获

```cpp
int x = 10;
auto f1 = [x]() { /* x 副本 */ };
auto f2 = [&x]() { x++; };
```

---

## 示例 3：错误示例（生命周期问题）

```cpp
auto get = []() {
    int x = 10;
    return [&]() { return x; }; // ❌ 悬垂引用
};
```

---

## 示例 4：mutable 的合理使用

```cpp
int cnt = 0;
auto gen = [cnt]() mutable {
    return ++cnt;
};
```

---

## 示例 5：lambda 作为回调

```cpp
void process(function<void()> cb) {
    cb();
}

process([&]() {
    // 回调逻辑
});
```

---

## 示例 6：替代小函数对象

```cpp
auto is_even = [](int x) { return x % 2 == 0; };
```

---

## 工程实践总结

* lambda 适合**短、小、局部**逻辑
* 复杂逻辑应提取为函数 / 类
* 回调中优先值捕获
